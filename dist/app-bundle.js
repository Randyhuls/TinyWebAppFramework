!function(e){var t={};function i(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t){e.exports="<div id=HomeViewController> <h1 data-bind=title></h1> <article> <p data-bind=subtitle></p> <input data-bind-two=myinput type=text /> </article> </div>"},function(e,t){e.exports="<div id=ProfileViewController> <h1>Profile</h1> <article> <p>This is the profile page. This is where you show detailed information about the app</p> </article> </div>"},function(e,t,i){"use strict";i.r(t);class o{static generateId(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+"-"+(new Date).getTime()}}class a{setValue(e,t){let i=document.querySelector(`[data-bind=${e}]`)||document.querySelector(`[data-bind-two=${e}]`);if(!i)throw`No such element to be found: data-bind="${e}"`;switch(i.tagName.toLowerCase()){case"input":i.value=t;break;default:i.innerHTML=t}this.data[e]=t,console.log(`Value of element with binding ${e} was set: ${t}`)}render(e,t){if(!e instanceof(HTMLElement||String))throw"Parameter is not of type HTMLElement or String";if(!t instanceof Object)throw"Data is not of type Object";this.data=t;let i=e instanceof HTMLElement?e:document.querySelector(`#${e}`)||document.querySelector(`.${e}`);for(let e in this.data){let t=i.querySelector(`*[data-bind='${e}']`)||i.querySelector(`*[data-bind-two='${e}']`);if(t)switch(t.tagName.toLowerCase()){case"input":t.value=this.data[e];break;default:t.innerHTML=this.data[e]}}Array.from(document.querySelectorAll("*[data-bind-two]")).forEach(e=>{let i=e.getAttribute("data-bind-two");this.data[i]=e.value,e.onchange=(e=>t[i]=e.target.value)})}}const n={DISMISS_VIEWCONTROLLER:"dismissviewcontroller"};class r{constructor(e,t,{transitionStyle:i,isModal:r,delegateData:l}){let s=(new DOMParser).parseFromString(t,"text/html").body.firstElementChild;s.classList.add("ViewController"),r&&s.classList.add("Modal"),this.view=s,this.displayName=e,this.id=`vc-instance-${o.generateId()}`,this.transitionStyle=i,this.layout=new a,this.delegateData=l||{},this.delegateEvent=new CustomEvent(n.DISMISS_VIEWCONTROLLER,{detail:this.delegateData})}viewWillLoad(){}viewDidAppear(){}viewDidLoad(){}viewWillUnload(){}viewDidUnload(){this.view.dispatchEvent(this.delegateEvent)}onDismiss(e){e instanceof Function&&this.view.addEventListener(n.DISMISS_VIEWCONTROLLER,e.bind(this))}}class l{static setClassWithAnimation(e,t,i,o){i?(e.classList.remove(t),e.offsetWidth,e.style.animationDirection="reverse",e.classList.add(t)):e.classList.add(t),this.waitForAnimation(e,o)}static removeClassWithAnimation(e,t,i){e.classList.remove(t),l.waitForAnimation(e,i)}static waitForAnimation(e,t){let i=window.getComputedStyle(e),o=1e3*(parseFloat(i.animationDuration)||parseFloat(i.transitionDuration)||0);setTimeout(t,o)}}const s={ROOT_VIEW:"#RootView",NAVIGATION_BAR_VIEW:"#NavigationBarView",NAVIGATION_BACK_BTN:"#BackButton",NAVIGATION_TITLE:"#NavigationBarView .NavigationBarItem.CenterBarItem .Title",NAVIGATION_LEFT_BAR_ITEM:"#NavigationBarView .NavigationBarItem.LeftBarItem",NAVIGATION_RIGHT_BAR_ITEM:"#NavigationBarView .NavigationBarItem.RightBarItem",NAVIGATION_CENTER_BAR_ITEM:"#NavigationBarView .NavigationBarItem.CenterBarItem",NAVIGATION_BAR_ITEM:"#NavigationBarView .NavigationBarItem",NAVIGATION_BAR_ITEM_BTN:"#NavigationBarView .NavigationBarItem .BarItemButton"},d={NONE:"",HORIZONTAL:"transition-horizontal",VERTICAL:"transition-vertical"},c={stack:[],activeViewController:null,dequeuedViewController:null},u={LEFT:"LeftBarItem",RIGHT:"RightBarItem",CENTER:"CenterBarItem"};class w{get currentContext(){return this._currentContext}set currentContext(e){this._currentContext=e}static setNavigationBarItem(e,{currentContext:t}){let i;switch(t&&(this.currentContext=t),e.type){case u.LEFT:i=document.querySelector(s.NAVIGATION_LEFT_BAR_ITEM);break;case u.RIGHT:i=document.querySelector(s.NAVIGATION_RIGHT_BAR_ITEM);break;case u.CENTER:i=document.querySelector(s.NAVIGATION_CENTER_BAR_ITEM)}let o=e.view;i.appendChild(o),l.setClassWithAnimation(o,"active")}static resetNavigationBarItems(){Array.from(document.querySelectorAll(s.NAVIGATION_BAR_ITEM)).forEach(e=>{let t=e.querySelector(s.NAVIGATION_BAR_ITEM_BTN);t&&l.removeClassWithAnimation(t,"active",()=>{e.removeChild(t)})})}static createBarItem({title:e,imgPath:t,type:i,handler:o}){if(!e||!t&&!i&&!o)throw"NavigationBarItem.create --\x3e Missing parameters in navigation bar item";let a={},n=document.createElement("button");if(n.classList.add("BarItemButton"),e)n.innerHTML=e,a.title=e;else if(t){let e=document.createElement("img");e.src=t,n.appendChild(e),a.icon=e}return n.onclick=o.bind(this),a.view=n,a.type=i,a.handler=o,a}}class v{static get allowBackNavigation(){return this._allowBackNavigation}static set allowBackNavigation(e){let t=document.querySelector(s.NAVIGATION_BACK_BTN);e?t.onclick=(()=>{v.dismissViewController(),v.updateNavigationBar()}):t.classList.remove("active"),this._allowBackNavigation=e}static set setRootViewController(e){if(!e instanceof r)return;let t=c.activeViewController,i=document.querySelector(s.ROOT_VIEW);c.stack.forEach(e=>{e.view!==t.view&&i.removeChild(e.view)}),e.displayName!==t.displayName&&i.insertBefore(e.view,t.view),c.stack=e.displayName===t.displayName?[t]:[e,t],v.updateNavigationBar(),console.log("Root view controller --\x3e",e.displayName)}static presentViewController(e,{transitionStyle:t}){!e instanceof r||(this.setTransitionStyle(e,t),e.viewWillLoad(),this.initiateNavigation(e,{shouldPop:!1},()=>{v.updateNavigationBar(),console.log("Active view controller --\x3e",c.activeViewController.displayName)}))}static dismissViewController(e){let t=this,i=!!e;!function o(a){!a instanceof r||t.initiateNavigation(a,{shouldPop:!0},()=>{t.updateNavigationBar(),i&&(c.activeViewController.id===e.id?console.log("dismissViewController --\x3e Popped to "+c.activeViewController.displayName):(a.transitionStyle||(a.transitionStyle=d.HORIZONTAL),o(c.activeViewController)))})}(c.activeViewController)}static setTransitionStyle(e,t){0===c.stack.length?e.transitionStyle=d.NONE:e.transitionStyle=t||d.HORIZONTAL}static addToStack(e){let t=c.stack;t.push(e),c.activeViewController=t[t.length-1],this.addToDOM(c.activeViewController)}static removeFromStack(){let e=c.stack;1!==e.length&&(c.dequeuedViewController=c.activeViewController,e.pop(),this.removeFromDOM(c.activeViewController),c.activeViewController=e[e.length-1])}static initiateNavigation(e,{shouldPop:t},i){let o="";switch(e.transitionStyle){case d.NONE:o=d.NONE;break;case d.HORIZONTAL:o=d.HORIZONTAL;break;case d.VERTICAL:o=d.VERTICAL}t||(this.addToStack(e),e=c.activeViewController),o===d.NONE?(t&&this.removeFromStack(),i()):l.setClassWithAnimation(e.view,o,t,()=>{t&&this.removeFromStack(),i()})}static setBackButton(){let e=document.querySelector(s.NAVIGATION_BACK_BTN);if(c.stack.length>1){let t=c.stack[c.stack.length-2];e.innerHTML=t.displayName,e.classList.add("active")}else e.classList.remove("active")}static updateNavigationBar(){let e=document.querySelector(s.NAVIGATION_BAR_VIEW).querySelector(s.NAVIGATION_TITLE);v.allowBackNavigation&&this.setBackButton(),e.innerHTML=c.activeViewController.displayName}static removeFromDOM(e){document.querySelector(s.ROOT_VIEW).removeChild(e.view),console.log(`Removed viewcontroller ${e.displayName} from DOM`)}static addToDOM(e){document.querySelector(s.ROOT_VIEW).appendChild(e.view),console.log(`Added viewcontroller ${e.displayName} to DOM`)}}var p=i(0);const m={GET:"GET",POST:"POST"};class h{static get(e){return h.request(m.GET,e)}static post(e,t){return h.request(m.POST,e,t)}static request(e,t,i,o){return new Promise((a,n)=>{let r=new XMLHttpRequest;r.onload=(()=>a(r.response)),r.onerror=(e=>n(e)),o&&o.forEach(e=>{for(prop in e)r.setRequestHeader(prop,e[prop])}),r.open(e,t),r.send(i)})}}var N=i(1);class T extends r{constructor(){super("Profile",N,{delegateData:{DataPassedByProfile:"SomeTestObject"}})}viewDidAppear(){super.viewDidAppear(),console.log("ProfileViewController.viewDidAppear --\x3e The view did appear")}viewWillLoad(){super.viewWillLoad(),console.log("ProfileViewController.viewWillLoad --\x3e The view is about to load")}viewDidLoad(){super.viewDidLoad(),console.log("ProfileViewController.viewDidLoad --\x3e The view has finished loading")}viewWillUnload(){super.viewWillUnload(),console.log("ProfileViewController.viewWillUnload --\x3e The view will unload from the rootview")}viewDidUnload(){super.viewDidUnload(),console.log("ProfileViewController.viewDidUnload --\x3e The view was unloaded from the rootview")}}new class extends class{constructor(){let e=document.querySelector("#RootView");new MutationObserver(e=>{e.forEach(e=>this.applicationRootViewDidChange(e))}).observe(e,{childList:!0,subtree:!0}),window.addEventListener("DOMContentLoaded",this.applicationWillLoad.bind(this)),window.addEventListener("load",this.applicationDidLoad.bind(this)),window.addEventListener("beforeunload",this.applicationWillUnload.bind(this)),window.addEventListener("unload",this.applicationDidUnload.bind(this)),v.allowBackNavigation=!0}applicationRootViewDidChange(e){let t=Array.from(e.addedNodes),i=Array.from(e.removedNodes);if(i.filter(e=>e.nodeType===Node.TEXT_NODE).length>0)return;let o=c.stack[c.stack.length-2];t.includes(c.activeViewController.view)&&(o&&(w.currentContext&&w.resetNavigationBarItems(),o.viewWillUnload()),c.activeViewController.viewDidLoad(),c.activeViewController.viewDidAppear()),!!i.filter(e=>e.classList.contains("ViewController")).length>0&&(c.dequeuedViewController.viewDidUnload(),c.activeViewController.viewDidAppear())}applicationWillLoad(){}applicationDidLoad(){}applicationWillUnload(){}applicationDidUnload(){}}{applicationWillLoad(){super.applicationWillLoad(),console.log("applicationWillLoad --\x3e The application is about to load")}applicationDidLoad(){super.applicationDidLoad(),console.log("applicationDidLoad --\x3e The application has finished loading"),v.presentViewController(new class extends r{constructor(){super("Home",p,{})}viewDidAppear(){super.viewDidAppear(),console.log("HomeViewController.viewDidAppear --\x3e The view did appear");let e=new T;e.onDismiss(e=>{console.log("data",e.detail)});let t=w.createBarItem({title:"See more",type:u.RIGHT,handler:()=>v.presentViewController(e,{})});w.setNavigationBarItem(t,{currentContext:!0})}viewWillLoad(){super.viewWillLoad(),console.log("HomeViewController.viewWillLoad --\x3e The view is about to load")}viewDidLoad(){super.viewDidLoad(),console.log("HomeViewController.viewDidLoad --\x3e The view has finished loading"),this.layout.render("HomeViewController",{title:"Home",subtitle:"This is the homepage",myinput:"This text is two-way binding"}),h.get("https://jsonplaceholder.typicode.com/todos/4").then(e=>{let t=JSON.parse(e);console.log("Http response:",t),this.layout.setValue("subtitle",t.title)},e=>console.error(e))}viewWillUnload(){super.viewWillUnload(),console.log("HomeViewController.viewWillUnload --\x3e The view will unload from the rootview")}viewDidUnload(){super.viewDidUnload(),console.log("HomeViewController.viewDidUnload --\x3e The view was unloaded from the rootview")}},{})}}}]);